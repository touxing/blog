const n=JSON.parse(`{"key":"v-79441daf","path":"/posts/javascript/23%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/0.html","title":"命令模式","lang":"zh-CN","frontmatter":{"date":"2020-11-23T00:00:00.000Z","category":["设计模式"],"tag":["命令模式"],"description":"命令模式 &lt;!DOCTYPE html&gt; &lt;html lang=\\"en\\"&gt; &lt;head&gt; &lt;meta charset=\\"UTF-8\\" /&gt; &lt;meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\" /&gt; &lt;meta http-equiv=\\"X-UA-Compatible\\" content=\\"ie=edge\\" /&gt; &lt;title&gt;命令模式&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;script&gt; let canvas = document.getElementById('my-canvas') let canvasWidth = 400 let canvasHeight = 600 let canvasStep = 40 // 动作步长 canvas.width = canvasWidth canvas.height = canvasHeight let btnUp = document.getElementById('btn-up') let btnDown = document.getElementById('btn-down') let btnLeft = document.getElementById('btn-left') let btnRight = document.getElementById('btn-right') // 移动对象类 class Role { constructor(x, y, imgSrc) { this.x = x this.y = y this.canvas = document.getElementById('my-canvas') this.ctx = canvas.getContext('2d') this.img = new Image() this.img.style.width = canvasStep this.img.style.height = canvasStep this.img.src = imgSrc this.img.onload = () =&gt; { this.ctx.drawImage(this.img, this.x, this.y, canvasStep, canvasStep) this.move(0, 0) } move(x, y) { this.ctx.clearRect(this.x, this.y, canvasStep, canvasStep) this.x += x this.y += y this.ctx.drawImage(this.img, this.x, canvasStep, canvasStep) } } } // 向上移动命令类 class MoveUpCommand { constructor(receiver) { this.receiver = receiver } } ; &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;","head":[["meta",{"property":"og:url","content":"https://touxing.github.io/blog/blog/posts/javascript/23%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/0.html"}],["meta",{"property":"og:site_name","content":"磨刀霍霍向猪羊"}],["meta",{"property":"og:title","content":"命令模式"}],["meta",{"property":"og:description","content":"命令模式 &lt;!DOCTYPE html&gt; &lt;html lang=\\"en\\"&gt; &lt;head&gt; &lt;meta charset=\\"UTF-8\\" /&gt; &lt;meta name=\\"viewport\\" content=\\"width=device-width, initial-scale=1.0\\" /&gt; &lt;meta http-equiv=\\"X-UA-Compatible\\" content=\\"ie=edge\\" /&gt; &lt;title&gt;命令模式&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;script&gt; let canvas = document.getElementById('my-canvas') let canvasWidth = 400 let canvasHeight = 600 let canvasStep = 40 // 动作步长 canvas.width = canvasWidth canvas.height = canvasHeight let btnUp = document.getElementById('btn-up') let btnDown = document.getElementById('btn-down') let btnLeft = document.getElementById('btn-left') let btnRight = document.getElementById('btn-right') // 移动对象类 class Role { constructor(x, y, imgSrc) { this.x = x this.y = y this.canvas = document.getElementById('my-canvas') this.ctx = canvas.getContext('2d') this.img = new Image() this.img.style.width = canvasStep this.img.style.height = canvasStep this.img.src = imgSrc this.img.onload = () =&gt; { this.ctx.drawImage(this.img, this.x, this.y, canvasStep, canvasStep) this.move(0, 0) } move(x, y) { this.ctx.clearRect(this.x, this.y, canvasStep, canvasStep) this.x += x this.y += y this.ctx.drawImage(this.img, this.x, canvasStep, canvasStep) } } } // 向上移动命令类 class MoveUpCommand { constructor(receiver) { this.receiver = receiver } } ; &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-03-15T06:54:47.000Z"}],["meta",{"property":"article:tag","content":"命令模式"}],["meta",{"property":"article:published_time","content":"2020-11-23T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-03-15T06:54:47.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"命令模式\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2020-11-23T00:00:00.000Z\\",\\"dateModified\\":\\"2023-03-15T06:54:47.000Z\\",\\"author\\":[]}"]]},"headers":[],"git":{"createdTime":1678863287000,"updatedTime":1678863287000,"contributors":[{"name":"hotsuitor","email":"hotsuitor@qq.com","commits":1}]},"readingTime":{"minutes":0.07,"words":21},"filePathRelative":"posts/javascript/23命令模式/0.md","localizedDate":"2020年11月23日","excerpt":"<h1> 命令模式</h1>\\n<div class=\\"language-html line-numbers-mode\\" data-ext=\\"html\\"><pre class=\\"language-html\\"><code><span class=\\"token doctype\\"><span class=\\"token punctuation\\">&lt;!</span><span class=\\"token doctype-tag\\">DOCTYPE</span> <span class=\\"token name\\">html</span><span class=\\"token punctuation\\">&gt;</span></span>\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>html</span> <span class=\\"token attr-name\\">lang</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>en<span class=\\"token punctuation\\">\\"</span></span><span class=\\"token punctuation\\">&gt;</span></span>\\n  <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>head</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>meta</span> <span class=\\"token attr-name\\">charset</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>UTF-8<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token punctuation\\">/&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>meta</span> <span class=\\"token attr-name\\">name</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>viewport<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">content</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>width=device-width, initial-scale=1.0<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token punctuation\\">/&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>meta</span> <span class=\\"token attr-name\\">http-equiv</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>X-UA-Compatible<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token attr-name\\">content</span><span class=\\"token attr-value\\"><span class=\\"token punctuation attr-equals\\">=</span><span class=\\"token punctuation\\">\\"</span>ie=edge<span class=\\"token punctuation\\">\\"</span></span> <span class=\\"token punctuation\\">/&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>title</span><span class=\\"token punctuation\\">&gt;</span></span>命令模式<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>title</span><span class=\\"token punctuation\\">&gt;</span></span>\\n  <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>head</span><span class=\\"token punctuation\\">&gt;</span></span>\\n  <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>body</span><span class=\\"token punctuation\\">&gt;</span></span>\\n    <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;</span>script</span><span class=\\"token punctuation\\">&gt;</span></span><span class=\\"token script\\"><span class=\\"token language-javascript\\">\\n      <span class=\\"token keyword\\">let</span> canvas <span class=\\"token operator\\">=</span> document<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getElementById</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'my-canvas'</span><span class=\\"token punctuation\\">)</span>\\n      <span class=\\"token keyword\\">let</span> canvasWidth <span class=\\"token operator\\">=</span> <span class=\\"token number\\">400</span>\\n      <span class=\\"token keyword\\">let</span> canvasHeight <span class=\\"token operator\\">=</span> <span class=\\"token number\\">600</span>\\n      <span class=\\"token keyword\\">let</span> canvasStep <span class=\\"token operator\\">=</span> <span class=\\"token number\\">40</span> <span class=\\"token comment\\">// 动作步长</span>\\n      canvas<span class=\\"token punctuation\\">.</span>width <span class=\\"token operator\\">=</span> canvasWidth\\n      canvas<span class=\\"token punctuation\\">.</span>height <span class=\\"token operator\\">=</span> canvasHeight\\n\\n      <span class=\\"token keyword\\">let</span> btnUp <span class=\\"token operator\\">=</span> document<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getElementById</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'btn-up'</span><span class=\\"token punctuation\\">)</span>\\n      <span class=\\"token keyword\\">let</span> btnDown <span class=\\"token operator\\">=</span> document<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getElementById</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'btn-down'</span><span class=\\"token punctuation\\">)</span>\\n      <span class=\\"token keyword\\">let</span> btnLeft <span class=\\"token operator\\">=</span> document<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getElementById</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'btn-left'</span><span class=\\"token punctuation\\">)</span>\\n      <span class=\\"token keyword\\">let</span> btnRight <span class=\\"token operator\\">=</span> document<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getElementById</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'btn-right'</span><span class=\\"token punctuation\\">)</span>\\n\\n      <span class=\\"token comment\\">// 移动对象类</span>\\n      <span class=\\"token keyword\\">class</span> <span class=\\"token class-name\\">Role</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token function\\">constructor</span><span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\">x<span class=\\"token punctuation\\">,</span> y<span class=\\"token punctuation\\">,</span> imgSrc</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n          <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>x <span class=\\"token operator\\">=</span> x\\n          <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>y <span class=\\"token operator\\">=</span> y\\n          <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>canvas <span class=\\"token operator\\">=</span> document<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getElementById</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'my-canvas'</span><span class=\\"token punctuation\\">)</span>\\n          <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>ctx <span class=\\"token operator\\">=</span> canvas<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getContext</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'2d'</span><span class=\\"token punctuation\\">)</span>\\n          <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>img <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">Image</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n          <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>img<span class=\\"token punctuation\\">.</span>style<span class=\\"token punctuation\\">.</span>width <span class=\\"token operator\\">=</span> canvasStep\\n          <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>img<span class=\\"token punctuation\\">.</span>style<span class=\\"token punctuation\\">.</span>height <span class=\\"token operator\\">=</span> canvasStep\\n          <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>img<span class=\\"token punctuation\\">.</span>src <span class=\\"token operator\\">=</span> imgSrc\\n          <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>img<span class=\\"token punctuation\\">.</span><span class=\\"token function-variable function\\">onload</span> <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">=&gt;</span> <span class=\\"token punctuation\\">{</span>\\n            <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>ctx<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">drawImage</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>img<span class=\\"token punctuation\\">,</span> <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>x<span class=\\"token punctuation\\">,</span> <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>y<span class=\\"token punctuation\\">,</span> canvasStep<span class=\\"token punctuation\\">,</span> canvasStep<span class=\\"token punctuation\\">)</span>\\n            <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">move</span><span class=\\"token punctuation\\">(</span><span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">)</span>\\n          <span class=\\"token punctuation\\">}</span>\\n\\n          <span class=\\"token function\\">move</span><span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\">x<span class=\\"token punctuation\\">,</span> y</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n            <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>ctx<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">clearRect</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>x<span class=\\"token punctuation\\">,</span> <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>y<span class=\\"token punctuation\\">,</span> canvasStep<span class=\\"token punctuation\\">,</span> canvasStep<span class=\\"token punctuation\\">)</span>\\n            <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>x <span class=\\"token operator\\">+=</span> x\\n            <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>y <span class=\\"token operator\\">+=</span> y\\n            <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>ctx<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">drawImage</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>img<span class=\\"token punctuation\\">,</span> <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>x<span class=\\"token punctuation\\">,</span> canvasStep<span class=\\"token punctuation\\">,</span> canvasStep<span class=\\"token punctuation\\">)</span>\\n          <span class=\\"token punctuation\\">}</span>\\n        <span class=\\"token punctuation\\">}</span>\\n      <span class=\\"token punctuation\\">}</span>\\n\\n      <span class=\\"token comment\\">// 向上移动命令类</span>\\n      <span class=\\"token keyword\\">class</span> <span class=\\"token class-name\\">MoveUpCommand</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token function\\">constructor</span><span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\">receiver</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n          <span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>receiver <span class=\\"token operator\\">=</span> receiver\\n        <span class=\\"token punctuation\\">}</span>\\n      <span class=\\"token punctuation\\">}</span>\\n      <span class=\\"token punctuation\\">;</span>\\n    </span></span><span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>script</span><span class=\\"token punctuation\\">&gt;</span></span>\\n  <span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>body</span><span class=\\"token punctuation\\">&gt;</span></span>\\n<span class=\\"token tag\\"><span class=\\"token tag\\"><span class=\\"token punctuation\\">&lt;/</span>html</span><span class=\\"token punctuation\\">&gt;</span></span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{n as data};
